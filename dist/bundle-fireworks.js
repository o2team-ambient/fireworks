!function(t){var i={};function e(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="//storage.jd.com/ambient/",e(e.s=18)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.O2_AMBIENT_IS_CONFIG_RESET=i.O2_AMBIENT_CONFIG_KEY=i.O2_AMBIENT_CLASSNAME=i.O2_AMBIENT_CONFIG=i.O2_AMBIENT_INIT=i.O2_AMBIENT_MAIN=void 0;var r="fireworks",n=r.toUpperCase(),s="O2_AMBIENT_".concat(n,"_MAIN");i.O2_AMBIENT_MAIN=s;var o="O2_AMBIENT_".concat(n,"_INIT");i.O2_AMBIENT_INIT=o;var a="O2_AMBIENT_".concat(n,"_CONFIG");i.O2_AMBIENT_CONFIG=a;var h="o2_ambient_".concat(r);i.O2_AMBIENT_CLASSNAME=h;i.O2_AMBIENT_CONFIG_KEY="O2_AMBIENT_CONFIG_KEY";i.O2_AMBIENT_IS_CONFIG_RESET="O2_AMBIENT_IS_CONFIG_RESET"},function(t,i){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,i){function e(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}},function(t,i){t.exports=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}},,,,,,,,,,,,,,,function(t,i,e){t.exports=e(19)},function(t,i,e){"use strict";var r=e(1);e(20),e(21);var n=e(0),s=r(e(22));try{var o=setInterval(function(){window[n.O2_AMBIENT_CONFIG]&&(clearInterval(o),(0,s.default)())},1e3)}catch(t){console.log(t)}},function(t,i){},function(t,i){},function(t,i,e){"use strict";var r=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=a,e(23);var n=e(0),s=r(e(24)),o=document.querySelector(".o2team_ambient_main");function a(){var t=new s.default;window[n.O2_AMBIENT_MAIN]=t}o||((o=document.createElement("div")).setAttribute("class","o2team_ambient_main"),o.setAttribute("id","o2team_ambient_main"),document.body.insertAdjacentElement("beforeend",o)),o.addEventListener("click",function(){o.style.display="none"}),window[n.O2_AMBIENT_INIT]=a},function(t,i,e){"use strict";!function(){for(var t=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window["".concat(i[e],"RequestAnimationFrame")],window.cancelAnimationFrame=window["".concat(i[e],"CancelAnimationFrame")]||window["".concat(i[e],"CancelRequestAnimationFrame")];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var r=(new Date).getTime(),n=Math.max(0,16-(r-t)),s=window.setTimeout(function(){i(r+n)},n);return t=r+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,i,e){"use strict";var r=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e(2)),s=r(e(3)),o=e(0),a=function(){function t(){(0,s.default)(this,t),this.minFire=1,this.sparkNum=100,this.sumColor=[],this.isStart=!1,this.reset(),this.fireSpeed=6,this.init()}return(0,n.default)(t,[{key:"init",value:function(){this.dom=document.querySelector("canvas"),this.content=this.dom.getContext("2d"),this.dom.width=window.innerWidth,this.dom.height=window.innerHeight,this.sparks=[],this.fireworks=[],this.isStart=!0;for(var t=this.minFire;t--;)this.fireworks.push(this.Firework(Math.random()*this.dom.width,this.dom.height*Math.random(),this));this.create(this)}},{key:"create",value:function(){if(this.isStart){setTimeout(this.create.bind(this),1e3/60),this.content.clearRect(0,0,this.dom.width,this.dom.height);for(var t=0;t<this.fireworks.length;t++)this.fireworks[t].dead?this.fireworks.splice(t,1):(this.fireworks[t].move(),this.fireworks[t].draw());for(var i=0;i<this.sparks.length;i++)this.sparks[i].dead?this.sparks.splice(i,1):(this.sparks[i].move(),this.sparks[i].draw());this.fireworks.length<this.minFire&&this.fireworks.push(this.Firework(null,null,this))}}},{key:"Firework",value:function(t,i,e){return{x:t||Math.random()*e.dom.width,y:i||e.dom.height,height:Math.random()*e.dom.height/2,dead:!1,color:e.randomColor(),speed:this.fireSpeed,move:function(){this.y>this.height?this.y-=this.speed:this.burst()},draw:function(){e.drawCircle(this.x,this.y,2,3,this.color)},burst:function(){this.dead=!0;for(var t=e.sparkNum;t--;)e.sparks.push(e.Spark(this.x,this.y,this.color))}}}},{key:"Spark",value:function(t,i,e){var r=this,n=3*Math.random()+3;return{x:t,y:i,dir:Math.random()*(2*Math.PI),dead:!1,color:e,speed:n,walker:new function t(i){(0,s.default)(this,t),this.step=function(){return this.direction=Math.sign(this.target)*this.speed,this.value+=this.direction,this.target?this.target-=this.direction:this.value?this.wander?this.target=this.newTarget():this.target=-this.value:this.target=this.newTarget(),this.direction},this.fireworkStep=function(){return this.direction=this.speed,this.direction},this.newTarget=function(){return Math.round(Math.random()*(2*this.radius)-6*this.radius)},this.start=0,this.value=0,this.radius=i.radius,this.target=this.newTarget(),this.direction=Math.sign(this.target),this.wander=i.wander,this.speed=i.speed||1}({radius:50,speed:.25}),gravity:.25,dur:n/.1,move:function(){if(this.dur--,this.dur<0&&(this.dead=!0),!(this.speed<0)){this.speed>0&&(this.speed-=.1);var t=this.walker.step();this.x+=Math.cos(this.dir+t)*this.speed,this.y+=Math.sin(this.dir+t)*this.speed,this.y+=this.gravity,this.gravity+=.05}},draw:function(){r.drawCircle(this.x,this.y,3,3,this.color)}}}},{key:"drawCircle",value:function(t,i,e,r,n){n=n||"#FFF",this.content.fillStyle=n,this.content.fillRect(t-e/2,i-r/2,e,r)}},{key:"randomColor",value:function(){return this.sumColor[Math.floor(Math.random()*this.sumColor.length)]}},{key:"reset",value:function(){var t=this;this.minFire=window[o.O2_AMBIENT_CONFIG].particleNumber,this.sparkNum=window[o.O2_AMBIENT_CONFIG].size,this.sumColor=[],this.fireworks=[],this.sparks=[],window[o.O2_AMBIENT_CONFIG].textures.forEach(function(i){return t.sumColor.push(i.value)}),this.isStart=!1,this.create(),this.isStart=!0}}]),t}();i.default=a}]);